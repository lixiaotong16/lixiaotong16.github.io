(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{431:function(s,t,a){s.exports=a.p+"assets/img/01.3d69aa5a.png"},432:function(s,t,a){s.exports=a.p+"assets/img/02.6136277d.png"},433:function(s,t,a){s.exports=a.p+"assets/img/03.cc33db8d.png"},434:function(s,t,a){s.exports=a.p+"assets/img/04.059c3f67.png"},435:function(s,t,a){s.exports=a.p+"assets/img/05.59d5b00a.png"},436:function(s,t,a){s.exports=a.p+"assets/img/06.5ef8cbc7.png"},437:function(s,t,a){s.exports=a.p+"assets/img/07.62f0d3fc.png"},438:function(s,t,a){s.exports=a.p+"assets/img/08.c946c37d.png"},439:function(s,t,a){s.exports=a.p+"assets/img/09.d0a0f48a.png"},476:function(s,t,a){"use strict";a.r(t);var n=a(35),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"_02-浏览器中的-javascript-执行机制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_02-浏览器中的-javascript-执行机制"}},[s._v("#")]),s._v(" 02：浏览器中的 JavaScript 执行机制")]),s._v(" "),n("h2",{attrs:{id:"变量提升-javascript-代码是按顺序执行的吗"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#变量提升-javascript-代码是按顺序执行的吗"}},[s._v("#")]),s._v(" 变量提升：JavaScript 代码是按顺序执行的吗？")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("变量提升")]),s._v(" "),n("p",[s._v("(1) 变量的声明和赋值\n"),n("img",{attrs:{src:a(431),alt:"变量的声明和赋值"}}),s._v("\n(2) 函数的声明和赋值\n"),n("img",{attrs:{src:a(432),alt:"函数的声明与赋值"}})]),s._v(" "),n("p",[n("strong",[s._v("变量提升就是在 js 代码执行过程中，js 引擎把变量和函数声明部分提升到代码开头，并且赋值为"),n("code",[s._v("undefined")])]),s._v("。示例如下图所示：\n"),n("img",{attrs:{src:a(433),alt:"变量提升示例"}})])]),s._v(" "),n("li",[n("p",[s._v("js 代码执行流程")]),s._v(" "),n("p",[s._v("一段 js 代码在执行之前要被 js 引擎编译，完成编译后进入执行阶段。\n"),n("img",{attrs:{src:a(434),alt:"js代码执行流程细化图"}})]),s._v(" "),n("p",[s._v("(1)编译阶段\n  一段代码进行编译后，会生成两部分的内容："),n("strong",[s._v("执行上下文")]),s._v("和"),n("strong",[s._v("可执行代码")]),s._v("。\n  其中执行上下文是 js 执行一段代码时的运行环境，执行上下文包含变量环境的对象，保存了变量提升的内容。\n(2)执行阶段\n  执行可执行代码，按顺序一行一行执行。js 引擎会从变量环境中去查找定义的变量和函数。")])]),s._v(" "),n("li",[n("p",[s._v("若出现同名的变量和函数，怎么办")]),s._v(" "),n("ul",[n("li",[s._v("如果是同名的函数，js 编译阶段会选择最后声明的那个；")]),s._v(" "),n("li",[s._v("如果是变量与函数同名，js 编译阶段，变量的声明会被忽略，但是会被变量赋值之后覆盖。")])])])]),s._v(" "),n("h2",{attrs:{id:"调用栈-为什么-javascript-代码会出现栈溢出"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#调用栈-为什么-javascript-代码会出现栈溢出"}},[s._v("#")]),s._v(" 调用栈：为什么 JavaScript 代码会出现栈溢出")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("函数调用流程\n  在代码执行阶段，当遇到函数调用时，首先从全局执行上下文中取出该函数代码，其次对这段函数代码进行编译，并创建该函数的执行上下文和可执行代码，最后执行代码，输出结果。\n"),n("img",{attrs:{src:a(435),alt:"函数调用过程"}})])]),s._v(" "),n("li",[n("p",[s._v("JavaScript 调用栈\n  管理执行上下文的栈称为执行上下文栈，又称为调用栈。调用栈是 js 引擎追踪函数执行的一个机制，当一次有多个函数被调用时，通过调用栈能够追踪到哪个函数正在被执行以及各个函数之间的调用关系。当函数执行完毕后，js 引擎会将该函数的执行上下文弹出栈。")])]),s._v(" "),n("li",[n("p",[s._v("开发中如何利用调用栈\n(1) 使用浏览器查看调用栈信息：通过在 Source 页对代码打断点的方式。\n(2) 栈溢出：调用栈是有大小的，当入栈的执行上下文数量超过栈的大小，会报错，通常在写递归代码，并且没有终止条件时时容易出现。")])])]),s._v(" "),n("h2",{attrs:{id:"块级作用域-var-缺陷以及为什么要引入-let-和-const"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#块级作用域-var-缺陷以及为什么要引入-let-和-const"}},[s._v("#")]),s._v(" 块级作用域：var 缺陷以及为什么要引入 let 和 const")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("作用域\n  作用域是程序中定义变量的区域，控制着变量和函数的可见性和生命周期。es6 之前，只存在全局作用域和函数作用域。这会产生很多问题。es6 开始，通过 let 和 const 关键字支持块级作用域。块级作用域内声明的变量不影响块外面的变量。")])]),s._v(" "),n("li",[n("p",[s._v("JavaScript 如何支持块级作用域的")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" c "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" d "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("(1)编译并创建执行上下文\n"),n("img",{attrs:{src:a(436),alt:"刚执行foo函数的执行上下文"}})]),s._v(" "),n("ul",[n("li",[s._v("通过 var 声明的变量，在编译阶段"),n("strong",[s._v("全都")]),s._v("放到了变量环境中；")]),s._v(" "),n("li",[s._v("通过 let 声明的变量，在编译阶段会被存放到词法环境中；")]),s._v(" "),n("li",[s._v("函数内部的其他块作用域，通过 let 声明的变量"),n("strong",[s._v("并未存放")]),s._v("到词法环境中。")])]),s._v(" "),n("p",[s._v("(2)执行阶段\n"),n("img",{attrs:{src:a(437),alt:"执行到函数内部块作用域的执行上下文"}}),s._v("\n  当执行到函数内的块作用域时，块内通过 let 声明的变量会被追加到词法环境中，并且保存在另一个单独的区域，不会影响块外面的变量。\n  并且，在词法环境内部也维护了小型的栈结构，在进入一个作用域块后，会把块内部的变量压到栈顶，执行完成后，从栈顶弹出。\n  在查找某变量时，沿着词法环境的栈顶向下查询，如果找了直接返回，如果没找到，继续在变量环境中查找。\n"),n("img",{attrs:{src:a(438),alt:"变量查找过程"}})])]),s._v(" "),n("li",[n("p",[s._v("块作用域的暂时性死区\n  在块作用域内，let 声明的变量被提升，但变量只是创建被提升，初始化并没有被提升（也就是说并没有初始化为 undefined），在初始化之前使用变量，就会形成一个暂时性死区。")]),s._v(" "),n("blockquote",[n("p",[s._v("【拓展】\nvar 的创建和初始化被提升，赋值不会被提升。\nlet 的创建被提升，初始化和赋值不会被提升。\nfunction 的创建、初始化和赋值均会被提升")])])])]),s._v(" "),n("h2",{attrs:{id:"作用域链和闭包-代码中出现相同的变量-javascript-引擎是如何选择的"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#作用域链和闭包-代码中出现相同的变量-javascript-引擎是如何选择的"}},[s._v("#")]),s._v(" 作用域链和闭包：代码中出现相同的变量，JavaScript 引擎是如何选择的？")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("作用域链\n  其实在每个执行上下文的变量环境中都包含了一个外部引用，用来指向外部的执行上下文，这个外部的引用称为 outer。查找变量时，js 引擎首先会在当前的执行上下文中查找（顺序上一小节提过），如果没有找到，则继续在 outer 所指向的执行上下文中查找，该查找的链条就称为作用域链。")])]),s._v(" "),n("li",[n("p",[s._v("词法作用域\n  由代码中函数声明的位置来决定的，是在代码编译阶段就决定好的，和函数怎么调用没关系。（大白话就是是由函数代码书写的位置决定的）\n  因此在对变量进行查找时，如果当前作用域中不存在，则沿着作用域链在其他作用域中查找。")])]),s._v(" "),n("li",[n("p",[s._v("闭包\n(1) 定义\n  当一个外部函数返回一个内部函数后，即使外部函数已经执行结束，但内部函数引用外部函数的变量依旧保存在内存中，称这些变量的集合为闭包。\n(2) 如何使用\n  js 引擎会沿着当前执行上下文->函数闭包->...->全局执行上下文的顺序来查找。")])])]),s._v(" "),n("h2",{attrs:{id:"this-从-javascript-执行上下文的视角讲清楚-this"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#this-从-javascript-执行上下文的视角讲清楚-this"}},[s._v("#")]),s._v(" this:从 JavaScript 执行上下文的视角讲清楚 this")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("this 是什么\n"),n("img",{attrs:{src:a(439),alt:"执行上下文中的this"}}),s._v("\n从图中可以看出 this 与执行上下文绑定在一起的，因此 this 有三种类型：全局执行上下文的 this、函数执行上下文的 this、eval 中的 this。\n(1) 全局执行上下文的 this：指向为 window 对象\n(2) 函数执行上下文的 this：默认情况下也是 window 对象，但是可以设置其指向其他对象。")])]),s._v(" "),n("li",[n("p",[s._v("修改 this 的指向")]),s._v(" "),n("ul",[n("li",[s._v("通过函数的 call 方法设置（或者 bind 和 apply）"),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" bar "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("myName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"极客邦"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("myName "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"极客时间"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bar"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bar"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("myName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])])]),s._v(" "),n("li",[s._v("通过对象调用方法设置：使用"),n("strong",[s._v("对象")]),s._v("来调用其内部的一个方法，该方法的 this 是指向对象本身的。"),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" myObj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"极客时间"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("showThis")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmyObj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("showThis")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])]),s._v(" "),n("li",[s._v("通过构造函数中设置：this 指向新对象本身"),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("CreateObj")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"极客时间"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" myObj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CreateObj")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("this 注意点\n(1)嵌套函数中的 this 不会从外层函数中继承\n解决技巧：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("在外层函数中声明一个变量来保存 this，在内层函数中使用。")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" myObj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"极客时间"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("showThis")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" self "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"极客邦"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmyObj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("showThis")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("myObj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("使用箭头函数解决：因为箭头函数不会创建自身的执行上下文，因此箭头函数中的 this 取决于其外部函数。")])])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);